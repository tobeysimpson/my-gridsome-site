{"remainingRequest":"/Users/tobeysimpson/my-gridsome-site/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/tobeysimpson/my-gridsome-site/node_modules/gridsome/app/page-query/dev.js","dependencies":[{"path":"/Users/tobeysimpson/my-gridsome-site/node_modules/gridsome/app/page-query/dev.js","mtime":1554172634699},{"path":"/Users/tobeysimpson/my-gridsome-site/node_modules/cache-loader/dist/cjs.js","mtime":1554172634942},{"path":"/Users/tobeysimpson/my-gridsome-site/node_modules/babel-loader/lib/index.js","mtime":1553985690434}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport fetch from './fetch';\nimport SockJS from 'sockjs-client';\nimport { formatError } from './shared';\nvar sock = new SockJS(process.env.SOCKJS_ENDPOINT);\nvar active = {};\n\nsock.onmessage = function (message) {\n  var data = JSON.parse(message.data);\n\n  switch (data.type) {\n    case 'updateQuery':\n      if (active.hasOwnProperty(data.file)) {\n        active[data.file].options.__pageQuery = data.query;\n      }\n\n      break;\n  }\n\n  var _loop = function _loop(file) {\n    var _active$file = active[file],\n        options = _active$file.options,\n        vm = _active$file.vm;\n    fetch(vm.$route, options.__pageQuery).then(function (_ref) {\n      var errors = _ref.errors;\n      return errors && formatError(errors[0], vm.$route);\n    }).catch(function (err) {\n      return formatError(err, vm.$route);\n    });\n  };\n\n  for (var file in active) {\n    _loop(file);\n  }\n};\n\nexport default (function (_ref2) {\n  var options = _ref2.options;\n  if (options.__pageQueryDev) return;\n  var merge = Vue.config.optionMergeStrategies;\n\n  var slash = function slash(string) {\n    return string.replace(/\\\\+/g, '/');\n  };\n\n  options.mounted = merge.mounted([function () {\n    active[slash(options.__file)] = {\n      options: options,\n      vm: this\n    };\n  }], options.mounted);\n  options.beforeDestroy = merge.beforeDestroy([function () {\n    delete active[slash(options.__file)];\n  }], options.beforeDestroy);\n  options.__pageQueryDev = true;\n});",{"version":3,"sources":["/Users/tobeysimpson/my-gridsome-site/node_modules/gridsome/app/page-query/dev.js"],"names":["Vue","fetch","SockJS","formatError","sock","process","env","SOCKJS_ENDPOINT","active","onmessage","message","data","JSON","parse","type","hasOwnProperty","file","options","__pageQuery","query","vm","$route","then","errors","catch","err","__pageQueryDev","merge","config","optionMergeStrategies","slash","string","replace","mounted","__file","beforeDestroy"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,WAAT,QAA4B,UAA5B;AAEA,IAAMC,IAAI,GAAG,IAAIF,MAAJ,CAAWG,OAAO,CAACC,GAAR,CAAYC,eAAvB,CAAb;AACA,IAAMC,MAAM,GAAG,EAAf;;AAEAJ,IAAI,CAACK,SAAL,GAAiB,UAAAC,OAAO,EAAI;AAC1B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACC,IAAnB,CAAb;;AAEA,UAAQA,IAAI,CAACG,IAAb;AACE,SAAK,aAAL;AACE,UAAIN,MAAM,CAACO,cAAP,CAAsBJ,IAAI,CAACK,IAA3B,CAAJ,EAAsC;AACpCR,QAAAA,MAAM,CAACG,IAAI,CAACK,IAAN,CAAN,CAAkBC,OAAlB,CAA0BC,WAA1B,GAAwCP,IAAI,CAACQ,KAA7C;AACD;;AAED;AANJ;;AAH0B,6BAYfH,IAZe;AAAA,uBAaAR,MAAM,CAACQ,IAAD,CAbN;AAAA,QAahBC,OAbgB,gBAahBA,OAbgB;AAAA,QAaPG,EAbO,gBAaPA,EAbO;AAcxBnB,IAAAA,KAAK,CAACmB,EAAE,CAACC,MAAJ,EAAYJ,OAAO,CAACC,WAApB,CAAL,CACGI,IADH,CACQ;AAAA,UAAGC,MAAH,QAAGA,MAAH;AAAA,aAAgBA,MAAM,IAAIpB,WAAW,CAACoB,MAAM,CAAC,CAAD,CAAP,EAAYH,EAAE,CAACC,MAAf,CAArC;AAAA,KADR,EAEGG,KAFH,CAES,UAAAC,GAAG;AAAA,aAAItB,WAAW,CAACsB,GAAD,EAAML,EAAE,CAACC,MAAT,CAAf;AAAA,KAFZ;AAdwB;;AAY1B,OAAK,IAAML,IAAX,IAAmBR,MAAnB,EAA2B;AAAA,UAAhBQ,IAAgB;AAK1B;AACF,CAlBD;;AAoBA,gBAAe,iBAAiB;AAAA,MAAdC,OAAc,SAAdA,OAAc;AAC9B,MAAIA,OAAO,CAACS,cAAZ,EAA4B;AAE5B,MAAMC,KAAK,GAAG3B,GAAG,CAAC4B,MAAJ,CAAWC,qBAAzB;;AACA,MAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,OAAP,CAAe,MAAf,EAAuB,GAAvB,CAAJ;AAAA,GAApB;;AAEAf,EAAAA,OAAO,CAACgB,OAAR,GAAkBN,KAAK,CAACM,OAAN,CAAc,CAAC,YAAY;AAC3CzB,IAAAA,MAAM,CAACsB,KAAK,CAACb,OAAO,CAACiB,MAAT,CAAN,CAAN,GAAgC;AAAEjB,MAAAA,OAAO,EAAPA,OAAF;AAAWG,MAAAA,EAAE,EAAE;AAAf,KAAhC;AACD,GAF+B,CAAd,EAEdH,OAAO,CAACgB,OAFM,CAAlB;AAIAhB,EAAAA,OAAO,CAACkB,aAAR,GAAwBR,KAAK,CAACQ,aAAN,CAAoB,CAAC,YAAY;AACvD,WAAO3B,MAAM,CAACsB,KAAK,CAACb,OAAO,CAACiB,MAAT,CAAN,CAAb;AACD,GAF2C,CAApB,EAEpBjB,OAAO,CAACkB,aAFY,CAAxB;AAIAlB,EAAAA,OAAO,CAACS,cAAR,GAAyB,IAAzB;AACD,CAfD","sourcesContent":["import Vue from 'vue'\nimport fetch from './fetch'\nimport SockJS from 'sockjs-client'\nimport { formatError } from './shared'\n\nconst sock = new SockJS(process.env.SOCKJS_ENDPOINT)\nconst active = {}\n\nsock.onmessage = message => {\n  const data = JSON.parse(message.data)\n\n  switch (data.type) {\n    case 'updateQuery':\n      if (active.hasOwnProperty(data.file)) {\n        active[data.file].options.__pageQuery = data.query\n      }\n\n      break\n  }\n\n  for (const file in active) {\n    const { options, vm } = active[file]\n    fetch(vm.$route, options.__pageQuery)\n      .then(({ errors }) => errors && formatError(errors[0], vm.$route))\n      .catch(err => formatError(err, vm.$route))\n  }\n}\n\nexport default ({ options }) => {\n  if (options.__pageQueryDev) return\n\n  const merge = Vue.config.optionMergeStrategies\n  const slash = string => string.replace(/\\\\+/g, '/')\n\n  options.mounted = merge.mounted([function () {\n    active[slash(options.__file)] = { options, vm: this }\n  }], options.mounted)\n\n  options.beforeDestroy = merge.beforeDestroy([function () {\n    delete active[slash(options.__file)]\n  }], options.beforeDestroy)\n\n  options.__pageQueryDev = true\n}\n"]}]}